@var js={
<script src="${CONTEXT_PATH}/static/js/commons.js"></script>
<script src="${CONTEXT_PATH}/static/js/modalEvents.js"></script>
<script src="${CONTEXT_PATH}/static/js/listEvents.js"></script>
<script src="${CONTEXT_PATH}/static/js/models/user.js"></script>
<script>

</script>
@};

@var search={
<div class="form-group">
	<label for="s_login_name">登录名：</label>
    <input name="s_login_name" class="form-control" type="text" placeholder="登录名">
</div>
<div class="form-group">
	<label for="s_real_name">真实姓名：</label>
    <input name="s_real_name" class="form-control" type="text" placeholder="真实姓">
</div>
<div class="form-group">
	<label for="s_role">角色：</label>
	<select name="s_role" class="form-control">
	<option value="">不限</option>
		@for(r in ROLES){
			<option value="${r.IDENT}">${r.NAME}</option>
		@}
	</select>
</div>
@};
@var toolbar = {

<button id="grantRoleBtn" type="button" class="btn btn-bold btn-primary multSelect grantButton" disabled onclick="grantRole()">
    <span class="glyphicon glyphicon-user"></span>
</button>
<button id="lockAccountBtn" type="button" class="btn btn-bold btn-info multSelect grantButton" disabled onclick="lockUser(true)">
    <span class="fa fa-lock"></span>
</button>
<button id="lockAccountBtn" type="button" class="btn btn-bold btn-success multSelect grantButton" disabled onclick="lockUser(false)">
    <span class="fa fa-unlock"></span>
</button>
@};



@layout("../../layout/_aceLayout.html", {extJs:js, pageUrl:"system/users"}){
@include("../../partial/_gridButtons.html", {searchForm:search, addDialog:"#addUserDialog", editDialog:"#addUserDialog", deleteAction:"system/users/delete", toolButtons:toolbar}){}

@include("_editUser.html",{dialogId:"addUserDialog", formId:"addUserForm"}){}
@include("_grantRole.html",{dialogId:"grantRoleDialog", formId:"grantRoleForm"}){}

<table id="usersList" class="dataTable"
    data-toggle="table"
    data-toolbar="#toolbar"
    data-url="/system/users/list"
    data-query-params="queryParams"
    data-show-columns="false"
    data-side-pagination="server"
    data-pagination="true"
    data-page-list="[5, 10, 20, 50, 100, 200]"
    data-search="false"
    data-click-to-select="true"
    data-id-field="id">
    <thead>
    <tr>
        <th data-field="check" data-checkbox="true"></th>
        <th data-field="LOGIN_NAME" data-width="50">登录名</th>
        <th data-field="REAL_NAME" data-width="100">姓名</th>
        <th data-field="ROLE_NAME" data-width="150">角色</th>
        <th data-field="EMAIL" data-width="150">用户邮箱</th>
        <th data-field="UNIT_NAME" data-width="150">所属公司</th>
        <th data-field="DEPARTMENT_NAME"data-width="100" >所属部门</th>
        <th data-field="ACCOUNT_STATUS" data-formatter="statusFormatter" data-width="80">状态</th>
        <th data-field="REMARK">备注</th>
    </tr>
    </thead>
</table>

@};

