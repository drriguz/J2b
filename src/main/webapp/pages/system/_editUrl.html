@var content={
    <div class="tip"/>
    <form method="post" add-action="/system/doAddUrl" update-action="/system/doUpdateUrl" id="${formId}"  class="ajaxForm">
        <input type="hidden" name="url.id"/>
        <tp:field id="urlName" label="权限名称" name="url.name" required="true" desc="为权限起一个名字"/>
        <tp:field id="urlUri" label="菜单URL" name="url.uri" required="false" desc="预留字段，可以不填或者随便写"/>
        <tp:field id="urlPattern" label="权限URL路径" name="url.url_pattern" required="true" desc="匹配权限路径，使用/**匹配所有下级路径 例如:/a/**"/>
        <tp:field id="urlFilters" label="过滤器" name="url.filters" required="true" desc="多个过滤器用,号隔开"/>
        <div class="form-group">
            <label for="urlRemark">备注</label>
            <textarea id="urlRemark" class="form-control" rows="3" name="url.remark" placeholder=""></textarea>
        </div>
    </form>
@};

<tp:modalValidate id="${dialogId}" btn="添加权限" title="编辑权限" content="${content}" form="${formId}"/>

<script>
function initControls(){
}
function loadItem(id){
	console.log(id);
    $.getJSON("/system/getUrl/" + id, function(json){
        if(json.error != 0){
            alert('获取数据失败:' + json.data);
        }
        var item = json.data;
        $("input[name='url.id']").val(item.id);
        $("input[name='url.name']").val(item.name);
        $("input[name='url.uri']").val(item.uri);
        $("input[name='url.url_pattern']").val(item.url_pattern);
        $("input[name='url.filters']").val(item.filters);
        $("textarea[name='url.remark']").val(item.remark);
    });
}
</script>