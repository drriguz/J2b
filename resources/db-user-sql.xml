<?xml version="1.0" encoding="UTF-8"?>
<sqlGroup name="user">
	<sql id="getAllUnits">SELECT * FROM `UNIT` WHERE THRU_DATE IS NULL</sql>
	<sql id="findByParent">SELECT * FROM `UNIT` WHERE THRU_DATE IS NULL AND PARENT_UNIT_ID=?</sql>
	<sql id="getUserAddInfo">select USER_ADD_INFO_ID,UNIT.NAME,USER_ADD_INFO.UNIT_ID, USER_ADD_INFO.DEPARTMENT_NAME from USER_ADD_INFO left join UNIT on USER_ADD_INFO.UNIT_ID = UNIT.UNIT_ID</sql>
	
	<sql id="findWechatUserByOpenId">SELECT * FROM WECHAT_USER WHERE OPEN_ID=? AND THRU_DATE IS NULL</sql>
	
	<sql id="findMsgItemByMsgId">SELECT * FROM PUSH_MSG_ITEM WHERE PUSH_MSG_ID=? AND THRU_DATE IS NULL ORDER BY `ORDER` ASC</sql>
	<sql id="findMsgItemByMsgIdAndOrder">SELECT * FROM PUSH_MSG_ITEM WHERE PUSH_MSG_ID=? AND `ORDER`=? AND THRU_DATE IS NULL</sql>
	
	<sql id="getMsgCountByStatus">SELECT COUNT(*) AS CNT FROM INNER_NOTICE_MSG WHERE TO_USER_ID=? AND READ_STATUS=? AND THRU_DATE IS NULL</sql>
	
	<sql id="getPartyByStep">SELECT * FROM PARTY WHERE THRU_DATE IS NULL AND STEP=? AND UNIT_ID=?</sql>
	<sql id="getArticleToReview">SELECT * FROM ARTICLE WHERE REVIEW_STATUS='W' AND THRU_DATE IS NULL AND UNIT_ID=?</sql>
	
	<sql id="msgListSelect">SELECT INNER_MSG_ID AS ID, FROM_USER_ID, TO_USER_ID, MSG_TYPE, MSG_CONTENT, READ_STATUS, CREATED_DATE</sql>
	<sql id="msgListWhere">FROM `INNER_NOTICE_MSG` WHERE THRU_DATE IS NULL ORDER BY CREATED_DATE DESC</sql>
</sqlGroup>